<html><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8">
<title>Grijper: rviz_gripper.cpp File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.8.3.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">rviz_gripper.cpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;ros/ros.h&gt;</code><br/>
<code>#include &lt;string&gt;</code><br/>
<code>#include &lt;std_msgs/Float32.h&gt;</code><br/>
<code>#include &lt;std_msgs/Bool.h&gt;</code><br/>
<code>#include &lt;sensor_msgs/JointState.h&gt;</code><br/>
</div><div class="textblock"><div class="dynheader">
Include dependency graph for rviz_gripper.cpp:</div>
<div class="dyncontent">
<div class="center"><img src="rviz__gripper_8cpp__incl.png" border="0" usemap="#rviz__gripper_8cpp" alt=""/></div>
</div>
</div>
<p><a href="rviz__gripper_8cpp_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a3c04138a5bfe5d72780bb7e82a18e627"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rviz__gripper_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627">main</a> (int argc, char **argv)</td></tr>
<tr class="memdesc:a3c04138a5bfe5d72780bb7e82a18e627"><td class="mdescLeft">&#160;</td><td class="mdescRight">Main method reads if the state of the gripper is changing and simulates this in RVIZ.  <a href="#a3c04138a5bfe5d72780bb7e82a18e627">More...</a><br/></td></tr>
<tr class="separator:a3c04138a5bfe5d72780bb7e82a18e627"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3a597a9b78812a52a356d6112ebe8f6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rviz__gripper_8cpp.html#ac3a597a9b78812a52a356d6112ebe8f6">rvizUpdater</a> (const std_msgs::Float32::ConstPtr &amp;msg)</td></tr>
<tr class="memdesc:ac3a597a9b78812a52a356d6112ebe8f6"><td class="mdescLeft">&#160;</td><td class="mdescRight">update method the opens variable will be updated  <a href="#ac3a597a9b78812a52a356d6112ebe8f6">More...</a><br/></td></tr>
<tr class="separator:ac3a597a9b78812a52a356d6112ebe8f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6099bcde46c020c0703be2c28a4432d5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rviz__gripper_8cpp.html#a6099bcde46c020c0703be2c28a4432d5">shutdown</a> (const std_msgs::Bool::ConstPtr &amp;b)</td></tr>
<tr class="memdesc:a6099bcde46c020c0703be2c28a4432d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Controll method to shutdown this ROS node when the command is given.  <a href="#a6099bcde46c020c0703be2c28a4432d5">More...</a><br/></td></tr>
<tr class="separator:a6099bcde46c020c0703be2c28a4432d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a323a9f2cf2eeae7e0acd9fe48da80fff"><td class="memItemLeft" align="right" valign="top">const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rviz__gripper_8cpp.html#a323a9f2cf2eeae7e0acd9fe48da80fff">freq</a> = 250</td></tr>
<tr class="separator:a323a9f2cf2eeae7e0acd9fe48da80fff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6593a9dfdfff068cc7a30a1f1ff5000a"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rviz__gripper_8cpp.html#a6593a9dfdfff068cc7a30a1f1ff5000a">opens</a></td></tr>
<tr class="separator:a6593a9dfdfff068cc7a30a1f1ff5000a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a3c04138a5bfe5d72780bb7e82a18e627"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int main </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>argv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Main method reads if the state of the gripper is changing and simulates this in RVIZ. </p>
<p>This node listens to the gripper_state published by gripper_actuator. motor_state variable has a value between 1 and 0. 1 means completly open 0 means completly closed. bmdll_max angle that the joint between middle and base can make. mlltp_max angle that the joint between middle and finger tip can make. bmdll_start start angle of the joint between middle and base mdlltp_start start angle of the joint between middle and tip bm_angle current angle between base and middle mt_angle current angle between middle and tip step_size the change of motor_state per loop cf corection facter the factor the raid at which the tip moves faster then the middle part angle_step the inverse of the total angle that can be made by the two joints</p>
<p>The motor_state is only changed if the gripper opens or closes and the motor state is between 1 and 0 The new motor_state is converted to angles for the both joints. The new angles will be published in the jstates topic</p>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="phidget__reader_8cpp.html#ab3f7db7de2a2af54619cd7ac3517b924" title="Method for shifting the buffer and inserting the newest sensor value.">shiftBuffer(int)</a>, <a class="el" href="phidget__reader_8cpp.html#a478ef96a3ad4032e1f91152178c8809e" title="Method for calulating the mean of the buffer to pass on to the controller.">mean()</a> </dd></dl>

<p>Definition at line <a class="el" href="rviz__gripper_8cpp_source.html#l00036">36</a> of file <a class="el" href="rviz__gripper_8cpp_source.html">rviz_gripper.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="ac3a597a9b78812a52a356d6112ebe8f6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rvizUpdater </td>
          <td>(</td>
          <td class="paramtype">const std_msgs::Float32::ConstPtr &amp;&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>update method the opens variable will be updated </p>
<p>Method for publishing a cylinder in rviz.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>contains the value 0,1,0.5 depending if the gripper is openening, closing or relaxing.</td></tr>
  </table>
  </dd>
</dl>
<p>This Method creates a marker message to create a cylinder in rviz. The frame where the marker in will be plotted in rviz is the base frame of the gripper. The marker will be deleted if there is no object in the range of the sensor. The type of the marker is a cylinder. Marker will be placed on the y-axis on the measured distance from the origin The size of the marker is determined with the diameter and height variable. The color of the marker is green. </p>

<p>Definition at line <a class="el" href="rviz__gripper_8cpp_source.html#l00097">97</a> of file <a class="el" href="rviz__gripper_8cpp_source.html">rviz_gripper.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a6099bcde46c020c0703be2c28a4432d5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void shutdown </td>
          <td>(</td>
          <td class="paramtype">const std_msgs::Bool::ConstPtr &amp;&#160;</td>
          <td class="paramname"><em>b</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Controll method to shutdown this ROS node when the command is given. </p>
<p>This method will shutdown this node when the command is given by the console. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">b</td><td>The message containing the command. Nothing is done with the command since we know what it will be when this message is received. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="a323a9f2cf2eeae7e0acd9fe48da80fff"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const int freq = 250</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The frequency at which gripper in rviz is updated. </p>

<p>Definition at line <a class="el" href="rviz__gripper_8cpp_source.html#l00013">13</a> of file <a class="el" href="rviz__gripper_8cpp_source.html">rviz_gripper.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a6593a9dfdfff068cc7a30a1f1ff5000a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float opens</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The state of the gripper 0 when gripper closes, 1 when gripper opens, 0.5 in relax mode. </p>

<p>Definition at line <a class="el" href="rviz__gripper_8cpp_source.html#l00012">12</a> of file <a class="el" href="rviz__gripper_8cpp_source.html">rviz_gripper.cpp</a>.</p>

</div>
</div>
</div><!-- contents -->

<br clear="all" />
<hr size="1"><div style="align: right;">
<a href="http://ros.org/wiki/Grijper">Grijper</a><br />
Author(s): Stijn van Schooten, Wybren ten Cate, Florens Kreuk, Jan Wymenga,Joris Coenen, Roy Groot</br />
<small>autogenerated on Thu Oct 3 2013 22:59:42</small>
</div>
</body>
</html>
